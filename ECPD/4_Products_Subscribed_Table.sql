# --------------------------------------------------------------------------------------------------------------------------------

CREATE DATABASE ECPD;         #  ECPD ->  Enterprise Customer Profile Database

# --------------------------------------------------------------------------------------------------------------------------------

USE ECPD;

# --------------------------------------------------------------------------------------------------------------------------------

#  Create the Table : (ProductsSubscribed)
#  ----------------------------------------


CREATE TABLE ProductsSubscribed (

    SubscriptionID INT PRIMARY KEY,
    CustomerID INT,
    ProductName VARCHAR(100) CHECK (ProductName IN ('CRM', 'ERP', 'Analytics', 'Support', 'Cloud Services')),
    SubscriptionDate DATE NOT NULL,
    RenewalDate DATE NOT NULL,
    SubscriptionValue DECIMAL(12,2) CHECK (SubscriptionValue > 0),
    IsAutoRenewed VARCHAR(3) CHECK (IsAutoRenewed IN ('Yes', 'No')),
    FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
    
);


# --------------------------------------------------------------------------------------------------------------------------------

#  Retreive the Data from the Table :
# ------------------------------------

SELECT * FROM ProductsSubscribed;

# --------------------------------------------------------------------------------------------------------------------------------

#  Insert the data into the table :
# ----------------------------------

INSERT INTO ProductsSubscribed (SubscriptionID, CustomerID, ProductName, SubscriptionDate, RenewalDate, SubscriptionValue, IsAutoRenewed) VALUES
(1, 17, 'CRM', '2022-08-15', '2023-08-15', 15500.00, 'Yes'),
(2, 23, 'ERP', '2023-01-10', '2024-01-10', 65000.00, 'No'),
(3, 11, 'Analytics', '2022-06-01', '2024-06-01', 89000.00, 'Yes'),
(4, 34, 'Support', '2022-07-20', '2023-07-20', 27000.00, 'No'),
(5, 6, 'Cloud Services', '2022-12-01', '2023-12-01', 42000.00, 'Yes'),
(6, 45, 'CRM', '2023-04-25', '2024-04-25', 36000.00, 'No'),
(7, 18, 'ERP', '2022-03-15', '2023-09-15', 54000.00, 'Yes'),
(8, 1, 'Analytics', '2023-02-28', '2024-02-28', 70000.00, 'No'),
(9, 28, 'Support', '2022-10-10', '2024-04-10', 37000.00, 'Yes'),
(10, 7, 'Cloud Services', '2023-01-01', '2024-01-01', 93000.00, 'No'),
(11, 39, 'CRM', '2022-09-14', '2023-09-14', 47000.00, 'Yes'),
(12, 19, 'ERP', '2023-03-07', '2024-03-07', 52000.00, 'Yes'),
(13, 9, 'Analytics', '2022-11-11', '2023-11-11', 19000.00, 'No'),
(14, 21, 'Support', '2023-05-05', '2024-05-05', 82000.00, 'Yes'),
(15, 4, 'Cloud Services', '2022-05-15', '2024-05-15', 75000.00, 'No'),
(16, 10, 'CRM', '2023-06-01', '2024-06-01', 45000.00, 'Yes'),
(17, 24, 'ERP', '2023-03-20', '2024-03-20', 27000.00, 'No'),
(18, 26, 'Analytics', '2022-06-30', '2024-06-30', 98000.00, 'Yes'),
(19, 16, 'Support', '2022-07-07', '2023-07-07', 32500.00, 'Yes'),
(20, 35, 'Cloud Services', '2023-01-14', '2024-01-14', 67000.00, 'No'),
(21, 2, 'CRM', '2022-04-04', '2023-04-04', 22000.00, 'Yes'),
(22, 38, 'ERP', '2023-02-12', '2024-02-12', 30000.00, 'Yes'),
(23, 5, 'Analytics', '2022-11-25', '2023-11-25', 87000.00, 'No'),
(24, 46, 'Support', '2023-01-19', '2024-01-19', 40500.00, 'Yes'),
(25, 13, 'Cloud Services', '2023-03-01', '2024-03-01', 99500.00, 'No'),
(26, 32, 'CRM', '2022-08-08', '2024-08-08', 34000.00, 'Yes'),
(27, 47, 'ERP', '2023-05-10', '2024-05-10', 91000.00, 'Yes'),
(28, 3, 'Analytics', '2022-06-18', '2023-06-18', 61000.00, 'No'),
(29, 49, 'Support', '2023-02-15', '2024-02-15', 28500.00, 'Yes'),
(30, 29, 'Cloud Services', '2022-10-28', '2023-10-28', 71000.00, 'No'),
(31, 31, 'CRM', '2023-04-03', '2024-04-03', 19000.00, 'Yes'),
(32, 25, 'ERP', '2022-09-22', '2023-09-22', 23000.00, 'Yes'),
(33, 37, 'Analytics', '2022-05-01', '2023-05-01', 67000.00, 'No'),
(34, 12, 'Support', '2022-12-09', '2024-12-09', 55500.00, 'Yes'),
(35, 14, 'Cloud Services', '2023-03-25', '2024-03-25', 84000.00, 'No'),
(36, 27, 'CRM', '2022-07-05', '2023-07-05', 41000.00, 'Yes'),
(37, 30, 'ERP', '2022-11-02', '2024-11-02', 31500.00, 'No'),
(38, 8, 'Analytics', '2023-05-30', '2024-05-30', 75000.00, 'Yes'),
(39, 36, 'Support', '2022-06-25', '2023-06-25', 29000.00, 'No'),
(40, 44, 'Cloud Services', '2022-08-22', '2023-08-22', 43000.00, 'Yes'),
(41, 48, 'CRM', '2023-02-06', '2024-02-06', 57000.00, 'No'),
(42, 15, 'ERP', '2022-09-09', '2023-09-09', 86000.00, 'Yes'),
(43, 22, 'Analytics', '2022-05-20', '2023-05-20', 32000.00, 'Yes'),
(44, 20, 'Support', '2022-10-14', '2023-10-14', 76000.00, 'No'),
(45, 33, 'Cloud Services', '2023-01-27', '2024-01-27', 99000.00, 'Yes'),
(46, 50, 'CRM', '2022-07-11', '2023-07-11', 20500.00, 'No'),
(47, 43, 'ERP', '2022-06-17', '2023-06-17', 59500.00, 'Yes'),
(48, 41, 'Analytics', '2023-03-14', '2024-03-14', 88500.00, 'No'),
(49, 42, 'Support', '2022-09-03', '2023-09-03', 24500.00, 'Yes'),
(50, 40, 'Cloud Services', '2023-04-22', '2024-04-22', 96500.00, 'Yes');

# --------------------------------------------------------------------------------------------------------------------------------

#  Retreive the Data from the Table :
# ------------------------------------

SELECT * FROM ProductsSubscribed;

# --------------------------------------------------------------------------------------------------------------------------------