# --------------------------------------------------------------------------------------------------------------------------------

CREATE DATABASE ECPD;         #  ECPD ->  Enterprise Customer Profile Database

# --------------------------------------------------------------------------------------------------------------------------------

USE ECPD;

# --------------------------------------------------------------------------------------------------------------------------------

#  Create the Table : (Contracts)
#  -------------------------------


CREATE TABLE Contracts (

    ContractID INT PRIMARY KEY,
    CustomerID INT,
    ContractStartDate DATE NOT NULL,
    ContractEndDate DATE NOT NULL,
    ContractValue DECIMAL(12,2) CHECK (ContractValue > 0),
    ContractType VARCHAR(20) CHECK (ContractType IN ('Annual', 'Bi-Annual', 'Quarterly')),
    Status VARCHAR(20) CHECK (Status IN ('Active', 'Expired', 'Terminated')),
    FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
    
);


# --------------------------------------------------------------------------------------------------------------------------------

#  Retreive the Data from the Table :
# ------------------------------------

SELECT * FROM Contracts;

# --------------------------------------------------------------------------------------------------------------------------------

#  Insert the data into the table :
# ----------------------------------

INSERT INTO Contracts (ContractID, CustomerID, ContractStartDate, ContractEndDate, ContractValue, ContractType, Status) VALUES
(1, 13, '2022-06-15', '2024-06-15', 325487.00, 'Annual', 'Active'),
(2, 8, '2023-01-05', '2024-01-05', 128900.50, 'Quarterly', 'Expired'),
(3, 21, '2022-03-22', '2023-09-22', 450000.75, 'Bi-Annual', 'Terminated'),
(4, 2, '2023-02-10', '2025-02-10', 97500.00, 'Annual', 'Active'),
(5, 40, '2022-12-01', '2024-12-01', 219000.00, 'Annual', 'Expired'),
(6, 17, '2023-05-19', '2024-11-19', 385900.00, 'Quarterly', 'Active'),
(7, 44, '2022-11-10', '2024-11-10', 499999.99, 'Bi-Annual', 'Expired'),
(8, 7, '2022-07-01', '2023-07-01', 45000.00, 'Quarterly', 'Terminated'),
(9, 26, '2023-03-15', '2025-03-15', 287400.00, 'Annual', 'Active'),
(10, 11, '2022-04-01', '2023-10-01', 155000.00, 'Bi-Annual', 'Expired'),
(11, 33, '2023-06-12', '2024-06-12', 170000.00, 'Annual', 'Active'),
(12, 9, '2022-01-20', '2023-07-20', 299999.00, 'Quarterly', 'Terminated'),
(13, 38, '2023-02-01', '2024-08-01', 458000.00, 'Bi-Annual', 'Active'),
(14, 6, '2023-07-01', '2024-07-01', 112345.00, 'Annual', 'Expired'),
(15, 12, '2022-09-10', '2023-12-10', 90500.00, 'Quarterly', 'Terminated'),
(16, 49, '2023-03-01', '2024-09-01', 342000.00, 'Bi-Annual', 'Active'),
(17, 19, '2022-10-05', '2024-04-05', 284500.00, 'Annual', 'Expired'),
(18, 27, '2023-04-14', '2025-04-14', 395000.00, 'Annual', 'Active'),
(19, 5, '2022-05-21', '2023-11-21', 480000.00, 'Bi-Annual', 'Expired'),
(20, 31, '2023-06-06', '2024-06-06', 239000.00, 'Quarterly', 'Active'),
(21, 15, '2023-08-01', '2025-08-01', 500000.00, 'Annual', 'Active'),
(22, 3, '2022-03-12', '2023-09-12', 99500.00, 'Quarterly', 'Terminated'),
(23, 1, '2022-06-30', '2024-06-30', 175000.00, 'Bi-Annual', 'Expired'),
(24, 30, '2023-07-22', '2024-07-22', 123000.00, 'Annual', 'Active'),
(25, 18, '2023-04-08', '2024-10-08', 139900.00, 'Bi-Annual', 'Active'),
(26, 36, '2022-12-17', '2024-06-17', 210000.00, 'Annual', 'Expired'),
(27, 34, '2023-02-27', '2024-08-27', 470000.00, 'Quarterly', 'Active'),
(28, 16, '2023-06-01', '2024-06-01', 269000.00, 'Annual', 'Active'),
(29, 43, '2022-07-14', '2024-01-14', 140000.00, 'Bi-Annual', 'Terminated'),
(30, 14, '2023-01-11', '2024-01-11', 384000.00, 'Annual', 'Expired'),
(31, 4, '2022-05-01', '2023-11-01', 115000.00, 'Quarterly', 'Expired'),
(32, 22, '2023-04-28', '2025-04-28', 279999.00, 'Annual', 'Active'),
(33, 25, '2022-10-01', '2023-10-01', 198700.00, 'Quarterly', 'Terminated'),
(34, 28, '2023-02-15', '2024-08-15', 367000.00, 'Bi-Annual', 'Active'),
(35, 20, '2022-03-08', '2023-09-08', 309000.00, 'Quarterly', 'Terminated'),
(36, 46, '2023-05-25', '2024-11-25', 421000.00, 'Annual', 'Active'),
(37, 24, '2022-11-19', '2023-11-19', 98000.00, 'Quarterly', 'Expired'),
(38, 10, '2023-03-04', '2024-09-04', 151000.00, 'Annual', 'Active'),
(39, 42, '2022-09-01', '2024-03-01', 248000.00, 'Bi-Annual', 'Expired'),
(40, 37, '2022-08-22', '2023-08-22', 376500.00, 'Quarterly', 'Terminated'),
(41, 23, '2023-01-31', '2025-01-31', 105000.00, 'Annual', 'Active'),
(42, 32, '2022-07-07', '2024-01-07', 334000.00, 'Bi-Annual', 'Expired'),
(43, 47, '2023-06-18', '2024-06-18', 466000.00, 'Quarterly', 'Active'),
(44, 39, '2022-02-02', '2023-08-02', 126000.00, 'Quarterly', 'Terminated'),
(45, 48, '2023-02-20', '2024-08-20', 255500.00, 'Annual', 'Active'),
(46, 35, '2023-03-09', '2024-09-09', 420000.00, 'Annual', 'Active'),
(47, 50, '2022-06-25', '2023-12-25', 389000.00, 'Bi-Annual', 'Expired'),
(48, 29, '2023-04-02', '2025-04-02', 314000.00, 'Annual', 'Active'),
(49, 45, '2023-07-10', '2024-07-10', 478000.00, 'Quarterly', 'Active'),
(50, 35, '2022-01-18', '2023-07-18', 180000.00, 'Quarterly', 'Terminated');

# --------------------------------------------------------------------------------------------------------------------------------

#  Retreive the Data from the Table :
# ------------------------------------

SELECT * FROM Contracts;

# --------------------------------------------------------------------------------------------------------------------------------